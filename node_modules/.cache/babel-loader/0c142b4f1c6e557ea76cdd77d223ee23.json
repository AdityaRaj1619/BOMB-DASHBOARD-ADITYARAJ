{"ast":null,"code":"import{useCallback}from'react';import{useTransactionAdder}from'../state/transactions/hooks';import{useAddPopup}from'../state/application/hooks';function useHandleTransactionReceipt(){var addTransaction=useTransactionAdder();var addPopup=useAddPopup();return useCallback(function(promise,summary){promise.then(function(tx){return addTransaction(tx,{summary:summary});}).catch(function(err){if(err.message.includes('User denied')){// User denied transaction signature on MetaMask.\nreturn;}var message=\"Unable to \".concat(summary[0].toLowerCase()).concat(summary.slice(1));console.error(\"\".concat(message,\": \").concat(err.message||err.stack));addPopup({error:{message:message,stack:err.message||err.stack}});});},[addPopup,addTransaction]);}export default useHandleTransactionReceipt;","map":{"version":3,"names":["useCallback","useTransactionAdder","useAddPopup","useHandleTransactionReceipt","addTransaction","addPopup","promise","summary","then","tx","catch","err","message","includes","concat","toLowerCase","slice","console","error","stack"],"sources":["C:/Users/Aditya Raj Awasthi/Desktop/bomb-dashboard-final-task/src/hooks/useHandleTransactionReceipt.ts"],"sourcesContent":["import {useCallback} from 'react';\nimport {TransactionResponse} from '@ethersproject/providers';\nimport {useTransactionAdder} from '../state/transactions/hooks';\nimport {useAddPopup} from '../state/application/hooks';\n\nfunction useHandleTransactionReceipt(): (promise: Promise<TransactionResponse>, summary: string) => void {\n  const addTransaction = useTransactionAdder();\n  const addPopup = useAddPopup();\n\n  return useCallback(\n    (promise: Promise<TransactionResponse>, summary: string) => {\n      promise\n        .then((tx) => addTransaction(tx, {summary}))\n        .catch((err) => {\n          if (err.message.includes('User denied')) {\n            // User denied transaction signature on MetaMask.\n            return;\n          }\n          const message = `Unable to ${summary[0].toLowerCase()}${summary.slice(1)}`;\n          console.error(`${message}: ${err.message || err.stack}`);\n          addPopup({error: {message, stack: err.message || err.stack}});\n        });\n    },\n    [addPopup, addTransaction],\n  );\n}\n\nexport default useHandleTransactionReceipt;\n"],"mappings":"AAAA,OAAQA,WAAW,KAAO,OAAO,CAEjC,OAAQC,mBAAmB,KAAO,6BAA6B,CAC/D,OAAQC,WAAW,KAAO,4BAA4B,CAEtD,QAAS,CAAAC,2BAA2BA,CAAA,CAAqE,CACvG,GAAM,CAAAC,cAAc,CAAGH,mBAAmB,EAAE,CAC5C,GAAM,CAAAI,QAAQ,CAAGH,WAAW,EAAE,CAE9B,MAAO,CAAAF,WAAW,CAChB,SAACM,OAAqC,CAAEC,OAAe,CAAK,CAC1DD,OAAO,CACJE,IAAI,CAAC,SAACC,EAAE,QAAK,CAAAL,cAAc,CAACK,EAAE,CAAE,CAACF,OAAO,CAAPA,OAAO,CAAC,CAAC,GAAC,CAC3CG,KAAK,CAAC,SAACC,GAAG,CAAK,CACd,GAAIA,GAAG,CAACC,OAAO,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAE,CACvC;AACA,OACF,CACA,GAAM,CAAAD,OAAO,cAAAE,MAAA,CAAgBP,OAAO,CAAC,CAAC,CAAC,CAACQ,WAAW,EAAE,EAAAD,MAAA,CAAGP,OAAO,CAACS,KAAK,CAAC,CAAC,CAAC,CAAE,CAC1EC,OAAO,CAACC,KAAK,IAAAJ,MAAA,CAAIF,OAAO,OAAAE,MAAA,CAAKH,GAAG,CAACC,OAAO,EAAID,GAAG,CAACQ,KAAK,EAAG,CACxDd,QAAQ,CAAC,CAACa,KAAK,CAAE,CAACN,OAAO,CAAPA,OAAO,CAAEO,KAAK,CAAER,GAAG,CAACC,OAAO,EAAID,GAAG,CAACQ,KAAK,CAAC,CAAC,CAAC,CAC/D,CAAC,CAAC,CACN,CAAC,CACD,CAACd,QAAQ,CAAED,cAAc,CAAC,CAC3B,CACH,CAEA,cAAe,CAAAD,2BAA2B"},"metadata":{},"sourceType":"module"}