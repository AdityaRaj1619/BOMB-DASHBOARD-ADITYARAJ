{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nvar _inherits = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\nvar _createSuper = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createSuper\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComposedStore = void 0;\nvar ObservableStore_1 = require(\"./ObservableStore\");\nvar ComposedStore = /*#__PURE__*/function (_ObservableStore_1$Ob) {\n  _inherits(ComposedStore, _ObservableStore_1$Ob);\n  var _super = _createSuper(ComposedStore);\n  function ComposedStore(children) {\n    var _this;\n    _classCallCheck(this, ComposedStore);\n    // Typecast: Preserve existing behavior\n    _this = _super.call(this, {});\n    // subscribe to children\n    _this._children = children || {};\n    Object.keys(_this._children).forEach(function (childKey) {\n      var child = _this._children[childKey];\n      _this._addChild(childKey, child);\n    });\n    return _this;\n  }\n  _createClass(ComposedStore, [{\n    key: \"_addChild\",\n    value: function _addChild(childKey, child) {\n      var _this2 = this;\n      var updateFromChild = function updateFromChild(childValue) {\n        var state = _this2.getState();\n        state[childKey] = childValue;\n        _this2.putState(state);\n      };\n      child.subscribe(updateFromChild);\n      updateFromChild(child.getState());\n    }\n  }]);\n  return ComposedStore;\n}(ObservableStore_1.ObservableStore);\nexports.ComposedStore = ComposedStore;","map":{"version":3,"sources":["../src/ComposedStore.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;AAAoD,IAEvC,aAEX,0BAAA,qBAAA;EAAA,SAAA,CAAA,aAAA,EAAA,qBAAA;EAAA,IAAA,MAAA,GAAA,YAAA,CAAA,aAAA;EAGA,SAAA,cAAY,QAAsD,EAAA;IAAA,IAAA,KAAA;IAAA,eAAA,OAAA,aAAA;IAChE;IACA,KAAA,GAAA,MAAA,CAAA,IAAA,OAAM,CAAA,CAAkB;IAExB;IACA,KAAA,CAAK,SAAS,GAAG,QAAQ,IAAI,CAAA,CAAE;IAC/B,MAAM,CAAC,IAAI,CAAC,KAAA,CAAK,SAAS,CAAC,CAAC,OAAO,CAAC,UAAC,QAAQ,EAAI;MAC/C,IAAM,KAAK,GAAG,KAAA,CAAK,SAAS,CAAC,QAAQ,CAAC;MACtC,KAAA,CAAK,SAAS,CAAC,QAAQ,EAAE,KAAK,CAAC;IACjC,CAAC,CAAC;IAAC,OAAA,KAAA;EACL;EAAC,YAAA,CAAA,aAAA;IAAA,GAAA;IAAA,KAAA,EAED,SAAA,UAAU,QAAiB,EAAE,KAAkC,EAAA;MAAA,IAAA,MAAA;MAC7D,IAAM,eAAe,GAAG,SAAlB,eAAe,CAAI,UAAsB,EAAI;QACjD,IAAM,KAAK,GAAG,MAAI,CAAC,QAAQ,EAAE;QAC7B,KAAK,CAAC,QAAQ,CAAC,GAAG,UAAU;QAC5B,MAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;MACtB,CAAC;MAED,KAAK,CAAC,SAAS,CAAC,eAAe,CAAC;MAChC,eAAe,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACnC;EAAC;EAAA,OAAA,aAAA;AAAA,EAxBO,iBAAA,CAAA,eAAkB;AAF5B,OAAA,CAAA,aAAA,GAAA,aAAA","sourcesContent":["import { ObservableStore } from './ObservableStore';\n\nexport class ComposedStore<\n  T extends Record<string, Record<string, unknown>>,\n> extends ObservableStore<T> {\n  private _children: Record<keyof T, ObservableStore<T[keyof T]>>;\n\n  constructor(children: Record<keyof T, ObservableStore<T[keyof T]>>) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    // subscribe to children\n    this._children = children || {};\n    Object.keys(this._children).forEach((childKey) => {\n      const child = this._children[childKey];\n      this._addChild(childKey, child);\n    });\n  }\n\n  _addChild(childKey: keyof T, child: ObservableStore<T[keyof T]>) {\n    const updateFromChild = (childValue: T[keyof T]) => {\n      const state = this.getState();\n      state[childKey] = childValue;\n      this.putState(state);\n    };\n\n    child.subscribe(updateFromChild);\n    updateFromChild(child.getState());\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}