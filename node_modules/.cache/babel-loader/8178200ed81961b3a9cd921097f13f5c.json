{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useCallback,useContext,useEffect}from'react';import{X}from'react-feather';import{useSpring}from'react-spring/web';import styled,{ThemeContext}from'styled-components';import{animated}from'react-spring';import{useRemovePopup}from'../../state/application/hooks';import TransactionPopup from'./TransactionPopup';import ErrorPopup from'./ErrorPopup';export var StyledClose=styled(X)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])));export var Popup=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  width: 100%;\\n  padding: 1em;\\n  background-color: \",\";\\n  position: relative;\\n  border-radius: 10px;\\n  padding: 20px;\\n  padding-right: 35px;\\n  overflow: hidden;\\n\\n  @media (max-width: 768px) {\\n    min-width: 290px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.color.grey[700];});var Fader=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 2px;\\n  background-color: \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.color.grey[400];});var AnimatedFader=animated(Fader);export default function PopupItem(_ref3){var removeAfterMs=_ref3.removeAfterMs,content=_ref3.content,popKey=_ref3.popKey;var removePopup=useRemovePopup();var removeThisPopup=useCallback(function(){return removePopup(popKey);},[popKey,removePopup]);useEffect(function(){if(removeAfterMs===null)return undefined;var timeout=setTimeout(function(){removeThisPopup();},removeAfterMs);return function(){clearTimeout(timeout);};},[removeAfterMs,removeThisPopup]);var theme=useContext(ThemeContext);var popupContent;if('txn'in content){var _content$txn=content.txn,hash=_content$txn.hash,success=_content$txn.success,summary=_content$txn.summary;popupContent=/*#__PURE__*/React.createElement(TransactionPopup,{hash:hash,success:success,summary:summary});}if('error'in content){var _content$error=content.error,message=_content$error.message,stack=_content$error.stack;popupContent=/*#__PURE__*/React.createElement(ErrorPopup,{message:message,stack:stack});}var faderStyle=useSpring({from:{width:'100%'},to:{width:'0%'},config:{duration:removeAfterMs!==null&&removeAfterMs!==void 0?removeAfterMs:undefined}});return/*#__PURE__*/React.createElement(Popup,null,/*#__PURE__*/React.createElement(StyledClose,{color:theme.text2,onClick:removeThisPopup}),popupContent,removeAfterMs!==null?/*#__PURE__*/React.createElement(AnimatedFader,{style:faderStyle}):null);}","map":{"version":3,"names":["React","useCallback","useContext","useEffect","X","useSpring","styled","ThemeContext","animated","useRemovePopup","TransactionPopup","ErrorPopup","StyledClose","_templateObject","_taggedTemplateLiteral","Popup","div","_templateObject2","_ref","theme","color","grey","Fader","_templateObject3","_ref2","AnimatedFader","PopupItem","_ref3","removeAfterMs","content","popKey","removePopup","removeThisPopup","undefined","timeout","setTimeout","clearTimeout","popupContent","_content$txn","txn","hash","success","summary","createElement","_content$error","error","message","stack","faderStyle","from","width","to","config","duration","text2","onClick","style"],"sources":["C:/Users/Aditya Raj Awasthi/Desktop/bomb-dashboard-final-task/src/components/Popups/PopupItem.tsx"],"sourcesContent":["import React, {useCallback, useContext, useEffect} from 'react';\nimport {X} from 'react-feather';\nimport {useSpring} from 'react-spring/web';\nimport styled, {ThemeContext} from 'styled-components';\nimport {animated} from 'react-spring';\nimport {PopupContent} from '../../state/application/actions';\nimport {useRemovePopup} from '../../state/application/hooks';\nimport TransactionPopup from './TransactionPopup';\nimport ErrorPopup from './ErrorPopup';\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({theme}) => theme.color.grey[700]};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    min-width: 290px;\n  }\n`;\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: ${({theme}) => theme.color.grey[400]};\n`;\n\nconst AnimatedFader = animated(Fader);\n\nexport default function PopupItem({\n  removeAfterMs,\n  content,\n  popKey,\n}: {\n  removeAfterMs: number | null;\n  content: PopupContent;\n  popKey: string;\n}) {\n  const removePopup = useRemovePopup();\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup]);\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined;\n\n    const timeout = setTimeout(() => {\n      removeThisPopup();\n    }, removeAfterMs);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [removeAfterMs, removeThisPopup]);\n\n  const theme = useContext(ThemeContext);\n\n  let popupContent;\n  if ('txn' in content) {\n    const {\n      txn: {hash, success, summary},\n    } = content;\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />;\n  }\n  if ('error' in content) {\n    const {\n      error: {message, stack},\n    } = content;\n    popupContent = <ErrorPopup message={message} stack={stack} />;\n  }\n\n  const faderStyle = useSpring({\n    from: {width: '100%'},\n    to: {width: '0%'},\n    config: {duration: removeAfterMs ?? undefined},\n  });\n\n  return (\n    <Popup>\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}