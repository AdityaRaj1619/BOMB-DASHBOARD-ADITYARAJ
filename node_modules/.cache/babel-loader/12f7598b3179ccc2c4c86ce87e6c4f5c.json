{"ast":null,"code":"var _classCallCheck = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nvar _inherits = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\nvar _createSuper = require(\"C:\\\\Users\\\\Aditya Raj Awasthi\\\\Desktop\\\\bomb-dashboard-final-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createSuper\");\nvar EventEmitter = require('events');\nvar parse = require('../parse');\nvar dev = process.env.NODE_ENV === 'development';\nvar WebSocket;\nvar WebSocketConnection = /*#__PURE__*/function (_EventEmitter) {\n  \"use strict\";\n\n  _inherits(WebSocketConnection, _EventEmitter);\n  var _super = _createSuper(WebSocketConnection);\n  function WebSocketConnection(_WebSocket, url, options) {\n    var _this;\n    _classCallCheck(this, WebSocketConnection);\n    _this = _super.call(this);\n    WebSocket = _WebSocket;\n    setTimeout(function () {\n      return _this.create(url, options);\n    }, 0);\n    return _this;\n  }\n  _createClass(WebSocketConnection, [{\n    key: \"create\",\n    value: function create(url, options) {\n      var _this2 = this;\n      if (!WebSocket) this.emit('error', new Error('No WebSocket transport available'));\n      try {\n        this.socket = new WebSocket(url);\n      } catch (e) {\n        return this.emit('error', e);\n      }\n      this.socket.addEventListener('error', function (err) {\n        return _this2.emit('error', err);\n      });\n      this.socket.addEventListener('open', function () {\n        _this2.emit('connect');\n        _this2.socket.addEventListener('message', function (message) {\n          var data = typeof message.data === 'string' ? message.data : '';\n          parse(data, function (err, payloads) {\n            if (err) return; //\n            payloads.forEach(function (load) {\n              if (Array.isArray(load)) {\n                load.forEach(function (payload) {\n                  return _this2.emit('payload', payload);\n                });\n              } else {\n                _this2.emit('payload', load);\n              }\n            });\n          });\n        });\n        _this2.socket.addEventListener('close', function () {\n          return _this2.onClose();\n        });\n      });\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      this.socket = null;\n      this.closed = true;\n      if (dev) console.log('Closing WebSocket connection');\n      this.emit('close');\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.socket) {\n        this.socket.close();\n      } else {\n        this.onClose();\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(payload, message) {\n      var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      this.emit('payload', {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        error: {\n          message: message,\n          code: code\n        }\n      });\n    }\n  }, {\n    key: \"send\",\n    value: function send(payload) {\n      var _this3 = this;\n      if (this.socket && this.socket.readyState === this.socket.CONNECTING) {\n        setTimeout(function (_) {\n          return _this3.send(payload);\n        }, 10);\n      } else if (!this.socket || this.socket.readyState > 1) {\n        this.connected = false;\n        this.error(payload, 'Not connected');\n      } else {\n        this.socket.send(JSON.stringify(payload));\n      }\n    }\n  }]);\n  return WebSocketConnection;\n}(EventEmitter);\nmodule.exports = function (WebSocket) {\n  return function (url, cb) {\n    return new WebSocketConnection(WebSocket, url, cb);\n  };\n};","map":{"version":3,"names":["EventEmitter","require","parse","dev","process","env","NODE_ENV","WebSocket","WebSocketConnection","_EventEmitter","_inherits","_super","_createSuper","_WebSocket","url","options","_this","_classCallCheck","call","setTimeout","create","_createClass","key","value","_this2","emit","Error","socket","e","addEventListener","err","message","data","payloads","forEach","load","Array","isArray","payload","onClose","closed","console","log","removeAllListeners","close","error","code","arguments","length","undefined","id","jsonrpc","send","_this3","readyState","CONNECTING","_","connected","JSON","stringify","module","exports","cb"],"sources":["C:/Users/Aditya Raj Awasthi/Desktop/bomb-dashboard-final-task/node_modules/eth-provider/connections/ws.js"],"sourcesContent":["const EventEmitter = require('events')\nconst parse = require('../parse')\nconst dev = process.env.NODE_ENV === 'development'\n\nlet WebSocket\n\nclass WebSocketConnection extends EventEmitter {\n  constructor (_WebSocket, url, options) {\n    super()\n    WebSocket = _WebSocket\n    setTimeout(() => this.create(url, options), 0)\n  }\n\n  create (url, options) {\n    if (!WebSocket) this.emit('error', new Error('No WebSocket transport available'))\n    try { this.socket = new WebSocket(url) } catch (e) { return this.emit('error', e) }\n    this.socket.addEventListener('error', err => this.emit('error', err))\n    this.socket.addEventListener('open', () => {\n      this.emit('connect')\n      this.socket.addEventListener('message', message => {\n        const data = typeof message.data === 'string' ? message.data : ''\n        parse(data, (err, payloads) => {\n          if (err) return //\n          payloads.forEach(load => {\n            if (Array.isArray(load)) {\n              load.forEach(payload => this.emit('payload', payload))\n            } else {\n              this.emit('payload', load)\n            }\n          })\n        })\n      })\n      this.socket.addEventListener('close', () => this.onClose())\n    })\n  }\n\n  onClose () {\n    this.socket = null\n    this.closed = true\n    if (dev) console.log('Closing WebSocket connection')\n    this.emit('close')\n    this.removeAllListeners()\n  }\n\n  close () {\n    if (this.socket) {\n      this.socket.close()\n    } else {\n      this.onClose()\n    }\n  }\n\n  error (payload, message, code = -1) {\n    this.emit('payload', { id: payload.id, jsonrpc: payload.jsonrpc, error: { message, code } })\n  }\n\n  send (payload) {\n    if (this.socket && this.socket.readyState === this.socket.CONNECTING) {\n      setTimeout(_ => this.send(payload), 10)\n    } else if (!this.socket || this.socket.readyState > 1) {\n      this.connected = false\n      this.error(payload, 'Not connected')\n    } else {\n      this.socket.send(JSON.stringify(payload))\n    }\n  }\n}\n\nmodule.exports = WebSocket => (url, cb) => new WebSocketConnection(WebSocket, url, cb)\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}