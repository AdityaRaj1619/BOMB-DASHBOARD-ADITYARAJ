{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nconst useAllowance = (token, spender, pendingApproval) => {\n  const [allowance, setAllowance] = useState(null);\n  const {\n    account\n  } = useWallet();\n  const fetchAllowance = useCallback(async () => {\n    const allowance = await token.allowance(account, spender);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch(err => console.error(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval, fetchAllowance]);\n  return allowance;\n};\nexport default useAllowance;","map":{"version":3,"names":["useCallback","useEffect","useState","useWallet","useAllowance","token","spender","pendingApproval","allowance","setAllowance","account","fetchAllowance","catch","err","console","error","stack"],"sources":["C:/Users/Aditya Raj Awasthi/Desktop/bomb-dashboard-final-task/src/hooks/useAllowance.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport { BigNumber } from 'ethers';\nimport ERC20 from '../bomb-finance/ERC20';\n\nconst useAllowance = (token: ERC20, spender: string, pendingApproval?: boolean) => {\n  const [allowance, setAllowance] = useState<BigNumber>(null);\n  const { account } = useWallet();\n\n  const fetchAllowance = useCallback(async () => {\n    const allowance = await token.allowance(account, spender);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch((err) => console.error(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval, fetchAllowance]);\n\n  return allowance;\n};\n\nexport default useAllowance;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,SAAS,QAAQ,YAAY;AAItC,MAAMC,YAAY,GAAGA,CAACC,KAAY,EAAEC,OAAe,EAAEC,eAAyB,KAAK;EACjF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAY,IAAI,CAAC;EAC3D,MAAM;IAAEQ;EAAQ,CAAC,GAAGP,SAAS,EAAE;EAE/B,MAAMQ,cAAc,GAAGX,WAAW,CAAC,YAAY;IAC7C,MAAMQ,SAAS,GAAG,MAAMH,KAAK,CAACG,SAAS,CAACE,OAAO,EAAEJ,OAAO,CAAC;IACzDG,YAAY,CAACD,SAAS,CAAC;EACzB,CAAC,EAAE,CAACE,OAAO,EAAEJ,OAAO,EAAED,KAAK,CAAC,CAAC;EAE7BJ,SAAS,CAAC,MAAM;IACd,IAAIS,OAAO,IAAIJ,OAAO,IAAID,KAAK,EAAE;MAC/BM,cAAc,EAAE,CAACC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAAE,8BAA6BF,GAAG,CAACG,KAAM,EAAC,CAAC,CAAC;IAC3F;EACF,CAAC,EAAE,CAACN,OAAO,EAAEJ,OAAO,EAAED,KAAK,EAAEE,eAAe,EAAEI,cAAc,CAAC,CAAC;EAE9D,OAAOH,SAAS;AAClB,CAAC;AAED,eAAeJ,YAAY"},"metadata":{},"sourceType":"module"}