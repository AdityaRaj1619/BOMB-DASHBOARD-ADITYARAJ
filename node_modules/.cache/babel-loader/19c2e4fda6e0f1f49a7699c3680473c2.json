{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport useBombFinance from './useBombFinance';\nimport config from '../config';\nimport { BigNumber } from 'ethers';\nconst useCashPriceInLastTWAP = () => {\n  const [price, setPrice] = useState(BigNumber.from(0));\n  const bombFinance = useBombFinance();\n  const fetchCashPrice = useCallback(async () => {\n    setPrice(await bombFinance.getBombPriceInLastTWAP());\n  }, [bombFinance]);\n  useEffect(() => {\n    fetchCashPrice().catch(err => console.error(`Failed to fetch BOMB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setPrice, bombFinance, fetchCashPrice]);\n  return price;\n};\nexport default useCashPriceInLastTWAP;","map":{"version":3,"names":["useCallback","useEffect","useState","useBombFinance","config","BigNumber","useCashPriceInLastTWAP","price","setPrice","from","bombFinance","fetchCashPrice","getBombPriceInLastTWAP","catch","err","console","error","stack","refreshInterval","setInterval","clearInterval"],"sources":["C:/Users/Aditya Raj Awasthi/Desktop/bomb-dashboard-final-task/src/hooks/useCashPriceInLastTWAP.ts"],"sourcesContent":["import {useCallback, useEffect, useState} from 'react';\nimport useBombFinance from './useBombFinance';\nimport config from '../config';\nimport {BigNumber} from 'ethers';\n\nconst useCashPriceInLastTWAP = () => {\n  const [price, setPrice] = useState<BigNumber>(BigNumber.from(0));\n  const bombFinance = useBombFinance();\n\n  const fetchCashPrice = useCallback(async () => {\n    setPrice(await bombFinance.getBombPriceInLastTWAP());\n  }, [bombFinance]);\n\n  useEffect(() => {\n    fetchCashPrice().catch((err) => console.error(`Failed to fetch BOMB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setPrice, bombFinance, fetchCashPrice]);\n\n  return price;\n};\n\nexport default useCashPriceInLastTWAP;\n"],"mappings":"AAAA,SAAQA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACtD,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAAQC,SAAS,QAAO,QAAQ;AAEhC,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;EACnC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAYG,SAAS,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;EAChE,MAAMC,WAAW,GAAGP,cAAc,EAAE;EAEpC,MAAMQ,cAAc,GAAGX,WAAW,CAAC,YAAY;IAC7CQ,QAAQ,CAAC,MAAME,WAAW,CAACE,sBAAsB,EAAE,CAAC;EACtD,CAAC,EAAE,CAACF,WAAW,CAAC,CAAC;EAEjBT,SAAS,CAAC,MAAM;IACdU,cAAc,EAAE,CAACE,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAAE,+BAA8BF,GAAG,CAACG,KAAM,EAAC,CAAC,CAAC;IAC1F,MAAMC,eAAe,GAAGC,WAAW,CAACR,cAAc,EAAEP,MAAM,CAACc,eAAe,CAAC;IAC3E,OAAO,MAAME,aAAa,CAACF,eAAe,CAAC;EAC7C,CAAC,EAAE,CAACV,QAAQ,EAAEE,WAAW,EAAEC,cAAc,CAAC,CAAC;EAE3C,OAAOJ,KAAK;AACd,CAAC;AAED,eAAeD,sBAAsB"},"metadata":{},"sourceType":"module"}